{"ast":null,"code":"import _slicedToArray from \"/Users/sameergupta/Desktop/final_repo/ecommerce-mern/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/sameergupta/Desktop/final_repo/ecommerce-mern/frontend/src/screens/RegisterScreen.js\";\n\nimport React, { useState, useEffect } from 'react';\nimport { Link, useLocation, useNavigate } from 'react-router-dom';\nimport { Form, Button, Row, Col } from 'react-bootstrap';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Message from '../components/Message';\nimport Loader from '../components/Loader';\nimport { register, login } from '../actions/userAction';\nimport FormContainer from '../components/FormContainer';\nimport { USER_LOGIN_SUCCESS } from '../constants/userConstants';\n\nvar RegisterScreen = function RegisterScreen() {\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      name = _useState2[0],\n      setName = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      email = _useState4[0],\n      setEmail = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      password = _useState6[0],\n      setPassword = _useState6[1];\n\n  var _useState7 = useState(''),\n      _useState8 = _slicedToArray(_useState7, 2),\n      confirmPassword = _useState8[0],\n      setconfirmPassword = _useState8[1];\n\n  var _useState9 = useState(''),\n      _useState10 = _slicedToArray(_useState9, 2),\n      message = _useState10[0],\n      setMessage = _useState10[1];\n\n  var location = useLocation();\n  var history = useNavigate();\n  var redirect = location.search ? location.search.split('=')[1] : \"/\";\n  var dispatch = useDispatch();\n  var userRegister = useSelector(function (state) {\n    return state.userRegister;\n  });\n  var Loading = userRegister.Loading,\n      error = userRegister.error,\n      userInfo = userRegister.userInfo;\n  useEffect(function () {\n    if (userInfo) {\n      history(redirect);\n    }\n  }, [history, userInfo, redirect]);\n\n  var submitHandler = function submitHandler(e) {\n    e.preventDefault();\n\n    if (password !== confirmPassword) {\n      setMessage(\"Password do not match\");\n    } else {\n      dispatch(register(name, email, password));\n      dispacth(login(email, password));\n      dispatch({\n        type: USER_LOGIN_SUCCESS\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(FormContainer, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 11\n    }\n  }, \"Register\"), error && /*#__PURE__*/React.createElement(Message, {\n    variant: \"danger\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 21\n    }\n  }, error), Loading && /*#__PURE__*/React.createElement(Loader, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 23\n    }\n  }), message && /*#__PURE__*/React.createElement(Message, {\n    variant: \"danger\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 23\n    }\n  }, message), /*#__PURE__*/React.createElement(Form, {\n    onSubmit: submitHandler,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"name\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 19\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    placeholder: \"enter name\",\n    value: name,\n    onChange: function onChange(e) {\n      return setName(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"email\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 19\n    }\n  }, \"Email Address\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"email\",\n    placeholder: \"enter email\",\n    value: email,\n    onChange: function onChange(e) {\n      return setEmail(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"password\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 19\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"password\",\n    placeholder: \"enter password\",\n    value: password,\n    onChange: function onChange(e) {\n      return setPassword(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"confirmPassword\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 19\n    }\n  }, \"Confirm Password\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"password\",\n    placeholder: \"re-enter password\",\n    value: confirmPassword,\n    onChange: function onChange(e) {\n      return setconfirmPassword(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    variant: \"primary\",\n    style: {\n      marginTop: '20px',\n      marginBottom: '10px'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }\n  }, \"Register\"))), /*#__PURE__*/React.createElement(Row, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 15\n    }\n  }, \"Have an Account ? \", /*#__PURE__*/React.createElement(Link, {\n    to: '/login',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 35\n    }\n  }, \"Login\")))));\n};\n\nexport default RegisterScreen;","map":{"version":3,"names":["React","useState","useEffect","Link","useLocation","useNavigate","Form","Button","Row","Col","useDispatch","useSelector","Message","Loader","register","login","FormContainer","USER_LOGIN_SUCCESS","RegisterScreen","name","setName","email","setEmail","password","setPassword","confirmPassword","setconfirmPassword","message","setMessage","location","history","redirect","search","split","dispatch","userRegister","state","Loading","error","userInfo","submitHandler","e","preventDefault","dispacth","type","target","value","marginTop","marginBottom"],"sources":["/Users/sameergupta/Desktop/final_repo/ecommerce-mern/frontend/src/screens/RegisterScreen.js"],"sourcesContent":["import React,{useState,useEffect} from 'react'\nimport {Link , useLocation, useNavigate} from 'react-router-dom'\nimport {Form,Button,Row, Col} from 'react-bootstrap'\nimport {useDispatch,useSelector} from 'react-redux'\nimport Message from '../components/Message'\nimport Loader from '../components/Loader'\nimport {register,login} from '../actions/userAction'\nimport FormContainer from '../components/FormContainer'\nimport { USER_LOGIN_SUCCESS } from '../constants/userConstants'\n\nconst RegisterScreen = () => {\n  const [name, setName] = useState('')\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n  const [confirmPassword, setconfirmPassword] = useState('')\n\n  const [message , setMessage] = useState('')\n\n  const location = useLocation();\n  const history = useNavigate();\n  const redirect = location.search ? location.search.split('=')[1] :\"/\";\n  const dispatch = useDispatch();\n  const userRegister = useSelector(state => state.userRegister)\n  const {Loading,error,userInfo} = userRegister\n\nuseEffect(() => {\n    if(userInfo){history(redirect)}\n},[history,userInfo,redirect])\n  const submitHandler =(e) => {\n\n      e.preventDefault()\n      if(password !== confirmPassword){\n        setMessage(\"Password do not match\")\n      }else{\n        dispatch(register(name,email,password))\n        dispacth(login(email,password))\n        dispatch({type:USER_LOGIN_SUCCESS})\n      }\n      \n\n  }\n  return (\n    <>\n        <FormContainer>\n          <h1>Register</h1>\n          {error && <Message variant=\"danger\">{error}</Message>}\n          {Loading && <Loader />}\n          {message && <Message variant=\"danger\">{message}</Message>}\n          <Form onSubmit={submitHandler}>\n              <Form.Group controlId=\"name\">\n                  <Form.Label>Name</Form.Label>\n                  <Form.Control type=\"text\" placeholder=\"enter name\" value={name}\n                  onChange={(e) => setName(e.target.value)}></Form.Control>\n              </Form.Group>\n              <Form.Group controlId=\"email\">\n                  <Form.Label>Email Address</Form.Label>\n                  <Form.Control type=\"email\" placeholder=\"enter email\" value={email}\n                  onChange={(e) => setEmail(e.target.value)}></Form.Control>\n              </Form.Group>\n              <Form.Group controlId=\"password\">\n                  <Form.Label>Password</Form.Label>\n                  <Form.Control type=\"password\" placeholder=\"enter password\" value={password}\n                  onChange={(e) => setPassword(e.target.value)}></Form.Control>\n              </Form.Group>\n              <Form.Group controlId=\"confirmPassword\">\n                  <Form.Label>Confirm Password</Form.Label>\n                  <Form.Control type=\"password\" placeholder=\"re-enter password\" value={confirmPassword}\n                  onChange={(e) => setconfirmPassword(e.target.value)}></Form.Control>\n              </Form.Group>\n              <Form.Group>\n                <Button type=\"submit\" variant='primary' style={{marginTop: '20px', marginBottom: '10px'}}>Register</Button>\n              </Form.Group>\n              \n          </Form>\n          <Row>\n              <Col>\n                Have an Account ? <Link to={'/login'}>Login</Link>\n              </Col>\n          </Row>\n          </FormContainer>\n    </>\n  )\n}\n\nexport default RegisterScreen\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}