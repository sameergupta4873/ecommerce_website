{"ast":null,"code":"import _toConsumableArray from \"/Users/sameergupta/Desktop/final_repo/ecommerce-mern/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/Users/sameergupta/Desktop/final_repo/ecommerce-mern/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/sameergupta/Desktop/final_repo/ecommerce-mern/frontend/src/screens/ProductScreen.js\";\n\nimport React, { useEffect, useState } from 'react';\nimport { Row, Col, ListGroup, Button, Image, ListGroupItem, Form } from 'react-bootstrap';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { listProductDetails } from '../actions/productActions';\nimport Loader from '../components/Loader';\nimport Message from '../components/Message';\n\nvar ProductScreen = function ProductScreen() {\n  var _useState = useState(1),\n      _useState2 = _slicedToArray(_useState, 2),\n      qty = _useState2[0],\n      setQty = _useState2[1];\n\n  var dispatch = useDispatch();\n\n  var _useParams = useParams(),\n      id = _useParams.id;\n\n  var history = useNavigate();\n  var productDetails = useSelector(function (state) {\n    return state.productDetails;\n  });\n  var loading = productDetails.loading,\n      error = productDetails.error,\n      product = productDetails.product;\n  useEffect(function () {\n    dispatch(listProductDetails(id));\n  }, [dispatch, id]);\n\n  var addToCartHandler = function addToCartHandler() {\n    history(\"/cart/\".concat(id, \"?qty=\").concat(qty));\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: \"my-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 23\n    }\n  }, \"Go Back\")), loading ? /*#__PURE__*/React.createElement(Loader, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 20\n    }\n  }) : error ? /*#__PURE__*/React.createElement(Message, {\n    variant: \"danger\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 40\n    }\n  }, error) : /*#__PURE__*/React.createElement(Row, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 87\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: 6,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Image, {\n    src: product.image,\n    fluid: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Col, {\n    md: 3,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(ListGroup, {\n    variant: \"flush\",\n    className: \"h-100\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ListGroupItem, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 17\n    }\n  }, product.name)), /*#__PURE__*/React.createElement(ListGroupItem, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(ListGroupItem, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 15\n    }\n  }, \"$\", product.price)), /*#__PURE__*/React.createElement(ListGroupItem, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 15\n    }\n  }, product.description))), /*#__PURE__*/React.createElement(Col, {\n    md: 3,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(ListGroup, {\n    variant: \"flush\",\n    className: \"h-100\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ListGroupItem, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 22\n    }\n  }, \"Status :\")), /*#__PURE__*/React.createElement(Col, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 19\n    }\n  }, product.countInStock > 0 ? \"Only \".concat(product.countInStock, \" left\") : 'Out of Stock')))), product.countInStock > 0 && /*#__PURE__*/React.createElement(ListGroupItem, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 24\n    }\n  }, \"Qty :\")), /*#__PURE__*/React.createElement(Col, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Form.Control, {\n    as: \"select\",\n    value: qty,\n    onChange: function onChange(e) {\n      return setQty(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 21\n    }\n  }, _toConsumableArray(Array(product.countInStock).keys()).map(function (x) {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      key: x + 1,\n      value: x + 1,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 73\n      }\n    }, x + 1);\n  }))))), /*#__PURE__*/React.createElement(ListGroupItem, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: addToCartHandler,\n    className: \"btn-block\",\n    type: \"button\",\n    disabled: product.countInStock === 0,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 15\n    }\n  }, \"Add to Cart\"))))));\n};\n\nexport default ProductScreen;","map":{"version":3,"names":["React","useEffect","useState","Row","Col","ListGroup","Button","Image","ListGroupItem","Form","useDispatch","useSelector","Link","useParams","useNavigate","listProductDetails","Loader","Message","ProductScreen","qty","setQty","dispatch","id","history","productDetails","state","loading","error","product","addToCartHandler","image","name","price","description","countInStock","e","target","value","Array","keys","map","x"],"sources":["/Users/sameergupta/Desktop/final_repo/ecommerce-mern/frontend/src/screens/ProductScreen.js"],"sourcesContent":["import React, { useEffect, useState} from 'react'\nimport {Row, Col, ListGroup, Button, Image, ListGroupItem, Form}\n from 'react-bootstrap'\nimport {useDispatch,useSelector} from 'react-redux'\nimport {Link } from 'react-router-dom'\nimport { useParams ,useNavigate} from 'react-router-dom'\nimport { listProductDetails } from '../actions/productActions'\nimport Loader from '../components/Loader'\nimport Message from '../components/Message'\n\nconst ProductScreen = () => {\n  const [qty,setQty] = useState(1)\n\n  const dispatch = useDispatch()\n  const {id} = useParams();\n  const history = useNavigate();\n\n  const productDetails = useSelector(state => state.productDetails)\n  const {loading, error , product} = productDetails\n  \n  useEffect(() => {\n    dispatch(listProductDetails(id))\n  },[dispatch,id]);\n\n  const addToCartHandler = () => {\n    history(`/cart/${id}?qty=${qty}`)\n  }\n\n  \n  return (\n      <div>\n        <Link to ='/'><Button className='my-2'>Go Back</Button></Link>\n        {loading ? <Loader/> : error ? <Message variant='danger'>{error}</Message> : (<Row>\n          <Col md={6}>\n            <Image src={product.image} fluid></Image>\n          </Col>\n          <Col md={3}>\n            <ListGroup variant=\"flush\" className='h-100'>\n              <ListGroupItem>\n                <h3>{product.name}</h3>\n              </ListGroupItem>\n              <ListGroupItem>\n                {/* <Rating value={5} text={`${product.numReviews} Reviews`}/> */}\n              </ListGroupItem>\n              <ListGroupItem>\n              <h3>${product.price}</h3>\n              </ListGroupItem>\n              <ListGroupItem>\n              {product.description}\n              </ListGroupItem>\n            </ListGroup>\n          </Col>\n          <Col md={3}>\n            <ListGroup variant='flush' className='h-100'>\n            <ListGroupItem>\n              <Row>\n                <Col><h5>Status :</h5></Col>\n                <Col >\n                  <h5>{product.countInStock > 0 ? `Only ${product.countInStock} left`: 'Out of Stock'}</h5> \n                </Col>\n              </Row>\n            </ListGroupItem>\n            {product.countInStock > 0 && (\n              <ListGroupItem>\n                <Row>\n                  <Col><h5>Qty :</h5></Col>\n                  <Col>\n                    <Form.Control as='select' value={qty} \n                    onChange={(e)=> setQty(e.target.value)\n                    }>{\n                      [...Array(product.countInStock).keys()].map(x => (<option key = {x+1} value = {x+1}>{x+1}</option>))}\n                    </Form.Control>\n                  </Col>\n                </Row>\n              </ListGroupItem>\n            )}\n            <ListGroupItem>\n              <Button onClick={addToCartHandler}\n              className=\"btn-block\" type='button' disabled={product.countInStock===0}>\n                Add to Cart\n              </Button>\n            </ListGroupItem>\n            </ListGroup>\n          </Col>\n        </Row>)}\n        \n    </div>\n  )\n}\n\nexport default ProductScreen\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}