{"ast":null,"code":"import _regeneratorRuntime from \"/Users/sameergupta/Desktop/final_repo/ecommerce-mern/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/sameergupta/Desktop/final_repo/ecommerce-mern/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport axios from 'axios';\nimport { CART_ADD_ITEM, CART_REMOVE_ITEM, CART_SAVE_SHIPPING_ADDRESS, CART_SAVE_PAYMENT_METHOD } from '../constants/cartConstants';\nexport var addToCart = function addToCart(id, qty) {\n  return /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch, getState) {\n      var _yield$axios$get, data;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return axios.get(\"/api/products/\".concat(id));\n\n            case 2:\n              _yield$axios$get = _context.sent;\n              data = _yield$axios$get.data;\n              dispatch({\n                type: CART_ADD_ITEM,\n                payload: {\n                  product: data._id,\n                  name: data.name,\n                  image: data.image,\n                  price: data.price,\n                  countInStock: data.countInStock,\n                  qty: qty\n                }\n              });\n              localStorage.setItem('cartItems', JSON.stringify(getState().cart.cartItems));\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x, _x2) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n};\nexport var removeFromCart = function removeFromCart(id) {\n  return function (dispatch, getState) {\n    dispatch({\n      type: CART_REMOVE_ITEM,\n      payload: id\n    });\n    localStorage.setItem('cartItems', JSON.stringify(getState().cart.cartItems));\n  };\n};\nexport var saveShippingAddress = function saveShippingAddress(data) {\n  return function (dispatch) {\n    dispatch({\n      type: CART_SAVE_SHIPPING_ADDRESS,\n      payload: data\n    });\n    localStorage.setItem('shippingAddress', JSON.stringify(data));\n  };\n};\nexport var savePaymentMethod = function savePaymentMethod(data) {\n  return function (dispatch) {\n    dispatch({\n      type: CART_SAVE_PAYMENT_METHOD,\n      payload: data\n    });\n    localStorage.setItem('paymentMethod', JSON.stringify(data));\n  };\n};","map":{"version":3,"names":["axios","CART_ADD_ITEM","CART_REMOVE_ITEM","CART_SAVE_SHIPPING_ADDRESS","CART_SAVE_PAYMENT_METHOD","addToCart","id","qty","dispatch","getState","get","data","type","payload","product","_id","name","image","price","countInStock","localStorage","setItem","JSON","stringify","cart","cartItems","removeFromCart","saveShippingAddress","savePaymentMethod"],"sources":["/Users/sameergupta/Desktop/final_repo/ecommerce-mern/frontend/src/actions/cartAction.js"],"sourcesContent":["import axios from 'axios'\nimport { CART_ADD_ITEM,CART_REMOVE_ITEM, CART_SAVE_SHIPPING_ADDRESS,CART_SAVE_PAYMENT_METHOD } from '../constants/cartConstants'\n\nexport const addToCart = (id, qty) => async(dispatch, getState) =>{\n    const {data} = await axios.get(`/api/products/${id}`)\n\n    dispatch({\n        type: CART_ADD_ITEM,\n        payload: {\n            product: data._id,\n            name: data.name,\n            image: data.image,\n            price: data.price,\n            countInStock: data.countInStock,\n            qty\n        }\n    })\n    localStorage.setItem('cartItems', JSON.stringify(getState().cart.cartItems))\n}\n\nexport const removeFromCart = (id) => (dispatch,getState) => {\n    dispatch({\n        type: CART_REMOVE_ITEM,\n        payload: id\n    })\n    localStorage.setItem('cartItems', JSON.stringify(getState().cart.cartItems))\n}\n\nexport const saveShippingAddress = (data) => dispatch =>{\n    dispatch({type: CART_SAVE_SHIPPING_ADDRESS,\n        payload: data\n    })\n    localStorage.setItem('shippingAddress', JSON.stringify(data))\n}\n\nexport const savePaymentMethod = (data) => dispatch =>{\n    dispatch({\n        type:CART_SAVE_PAYMENT_METHOD,\n        payload: data\n    })\n    localStorage.setItem('paymentMethod', JSON.stringify(data))\n}\n\n"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,aAAT,EAAuBC,gBAAvB,EAAyCC,0BAAzC,EAAoEC,wBAApE,QAAoG,4BAApG;AAEA,OAAO,IAAMC,SAAS,GAAG,SAAZA,SAAY,CAACC,EAAD,EAAKC,GAAL;EAAA;IAAA,oEAAa,iBAAMC,QAAN,EAAgBC,QAAhB;MAAA;;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA,OACbT,KAAK,CAACU,GAAN,yBAA2BJ,EAA3B,EADa;;YAAA;cAAA;cAC3BK,IAD2B,oBAC3BA,IAD2B;cAGlCH,QAAQ,CAAC;gBACLI,IAAI,EAAEX,aADD;gBAELY,OAAO,EAAE;kBACLC,OAAO,EAAEH,IAAI,CAACI,GADT;kBAELC,IAAI,EAAEL,IAAI,CAACK,IAFN;kBAGLC,KAAK,EAAEN,IAAI,CAACM,KAHP;kBAILC,KAAK,EAAEP,IAAI,CAACO,KAJP;kBAKLC,YAAY,EAAER,IAAI,CAACQ,YALd;kBAMLZ,GAAG,EAAHA;gBANK;cAFJ,CAAD,CAAR;cAWAa,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAkCC,IAAI,CAACC,SAAL,CAAed,QAAQ,GAAGe,IAAX,CAAgBC,SAA/B,CAAlC;;YAdkC;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA,CAAb;;IAAA;MAAA;IAAA;EAAA;AAAA,CAAlB;AAiBP,OAAO,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAACpB,EAAD;EAAA,OAAQ,UAACE,QAAD,EAAUC,QAAV,EAAuB;IACzDD,QAAQ,CAAC;MACLI,IAAI,EAAEV,gBADD;MAELW,OAAO,EAAEP;IAFJ,CAAD,CAAR;IAIAc,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAkCC,IAAI,CAACC,SAAL,CAAed,QAAQ,GAAGe,IAAX,CAAgBC,SAA/B,CAAlC;EACH,CAN6B;AAAA,CAAvB;AAQP,OAAO,IAAME,mBAAmB,GAAG,SAAtBA,mBAAsB,CAAChB,IAAD;EAAA,OAAU,UAAAH,QAAQ,EAAG;IACpDA,QAAQ,CAAC;MAACI,IAAI,EAAET,0BAAP;MACLU,OAAO,EAAEF;IADJ,CAAD,CAAR;IAGAS,YAAY,CAACC,OAAb,CAAqB,iBAArB,EAAwCC,IAAI,CAACC,SAAL,CAAeZ,IAAf,CAAxC;EACH,CALkC;AAAA,CAA5B;AAOP,OAAO,IAAMiB,iBAAiB,GAAG,SAApBA,iBAAoB,CAACjB,IAAD;EAAA,OAAU,UAAAH,QAAQ,EAAG;IAClDA,QAAQ,CAAC;MACLI,IAAI,EAACR,wBADA;MAELS,OAAO,EAAEF;IAFJ,CAAD,CAAR;IAIAS,YAAY,CAACC,OAAb,CAAqB,eAArB,EAAsCC,IAAI,CAACC,SAAL,CAAeZ,IAAf,CAAtC;EACH,CANgC;AAAA,CAA1B"},"metadata":{},"sourceType":"module"}