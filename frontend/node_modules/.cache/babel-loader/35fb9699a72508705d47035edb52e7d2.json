{"ast":null,"code":"import _regeneratorRuntime from \"/Users/sameergupta/Desktop/final_repo/ecommerce-mern/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/sameergupta/Desktop/final_repo/ecommerce-mern/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/sameergupta/Desktop/final_repo/ecommerce-mern/frontend/src/screens/TestRazorScreen.js\";\n\nimport axios from 'axios';\nimport React from 'react';\nimport { Button, Row, Col } from 'react-bootstrap';\n\nfunction loadScript(src) {\n  return new Promise(function (resolve) {\n    var script = document.createElement('script');\n    script.src = src;\n    document.body.appendChild(script);\n\n    script.onload = function () {\n      resolve(true);\n    };\n\n    script.onerror = function () {\n      resolve(false);\n    };\n  });\n}\n\nvar TestRazorScreen = function TestRazorScreen() {\n  function diplayRazorPay() {\n    return _diplayRazorPay.apply(this, arguments);\n  }\n\n  function _diplayRazorPay() {\n    _diplayRazorPay = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var res, KEY_ID, options, paymentObject;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return loadScript('https://checkout.razorpay.com/v1/checkout.js');\n\n            case 2:\n              res = _context.sent;\n              _context.next = 5;\n              return axios.get('/api/config/razorpay');\n\n            case 5:\n              KEY_ID = _context.sent;\n              console.log(KEY_ID);\n\n              if (res) {\n                _context.next = 10;\n                break;\n              }\n\n              alert('Razorpay SDK failed to load. Are you online ?');\n              return _context.abrupt(\"return\");\n\n            case 10:\n              options = {\n                \"key\": \"\".concat(KEY_ID),\n                // Enter the Key ID generated from the Dashboard\n                \"amount\": \"50000\",\n                // Amount is in currency subunits. Default currency is INR. Hence, 50000 refers to 50000 paise\n                \"currency\": \"INR\",\n                \"name\": \"Shoppzy\",\n                \"description\": \"Test Transaction\",\n                \"image\": \"https://example.com/your_logo\",\n                \"order_id\": \"order_9A33XWu170gUtm\",\n                //This is a sample Order ID. Pass the `id` obtained in the response of Step 1\n                \"handler\": function handler(response) {\n                  alert(response.razorpay_payment_id);\n                  alert(response.razorpay_order_id);\n                  alert(response.razorpay_signature);\n                },\n                \"prefill\": {\n                  \"name\": \"Gaurav Kumar\",\n                  \"email\": \"gaurav.kumar@example.com\",\n                  \"contact\": \"9999999999\"\n                },\n                \"theme\": {\n                  \"color\": \"#3399cc\"\n                }\n              };\n              paymentObject = new window.Razorpay(options);\n              paymentObject.open();\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _diplayRazorPay.apply(this, arguments);\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Row, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: 5,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: diplayRazorPay,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }\n  }, \"pay with razorpay\"))));\n};\n\nexport default TestRazorScreen;","map":{"version":3,"names":["axios","React","Button","Row","Col","loadScript","src","Promise","resolve","script","document","createElement","body","appendChild","onload","onerror","TestRazorScreen","diplayRazorPay","res","get","KEY_ID","console","log","alert","options","response","razorpay_payment_id","razorpay_order_id","razorpay_signature","paymentObject","window","Razorpay","open"],"sources":["/Users/sameergupta/Desktop/final_repo/ecommerce-mern/frontend/src/screens/TestRazorScreen.js"],"sourcesContent":["import axios from 'axios'\nimport React from 'react'\nimport {Button , Row , Col} from 'react-bootstrap'\n\n\n\nfunction loadScript(src) {\n  return new Promise((resolve)=>{\n    const script = document.createElement('script')\n    script.src = src\n    document.body.appendChild(script)\n    script.onload = () =>{\n      resolve(true)\n    }\n    script.onerror = () => {\n      resolve(false)\n    }\n  })\n}\n\nconst TestRazorScreen = () => {\n  async function diplayRazorPay(){\n    const res = await loadScript('https://checkout.razorpay.com/v1/checkout.js')\n    const KEY_ID = await axios.get('/api/config/razorpay')\n    console.log(KEY_ID)\n    if(!res){\n      alert('Razorpay SDK failed to load. Are you online ?')\n      return\n    }\n\n\n    var options = {\n      \"key\": `${KEY_ID}`, // Enter the Key ID generated from the Dashboard\n      \"amount\": \"50000\", // Amount is in currency subunits. Default currency is INR. Hence, 50000 refers to 50000 paise\n      \"currency\": \"INR\",\n      \"name\": \"Shoppzy\",\n      \"description\": \"Test Transaction\",\n      \"image\": \"https://example.com/your_logo\",\n      \"order_id\": \"order_9A33XWu170gUtm\", //This is a sample Order ID. Pass the `id` obtained in the response of Step 1\n      \"handler\": function (response){\n          alert(response.razorpay_payment_id);\n          alert(response.razorpay_order_id);\n          alert(response.razorpay_signature)\n      },\n      \"prefill\": {\n          \"name\": \"Gaurav Kumar\",\n          \"email\": \"gaurav.kumar@example.com\",\n          \"contact\": \"9999999999\"\n      },\n      \n      \"theme\": {\n          \"color\": \"#3399cc\"\n      }\n  };\n  const paymentObject = new window.Razorpay(options);\n  paymentObject.open()\n  }\n\n\n  \n\n\n\n\n\n\n\n  return (\n    <>\n      <Row>\n        <Col md = {5}>\n          <Button onClick={diplayRazorPay}>pay with razorpay</Button>\n        </Col>\n      </Row>\n    </>\n  )\n}\n\nexport default TestRazorScreen\n"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,MAAR,EAAiBC,GAAjB,EAAuBC,GAAvB,QAAiC,iBAAjC;;AAIA,SAASC,UAAT,CAAoBC,GAApB,EAAyB;EACvB,OAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAW;IAC5B,IAAMC,MAAM,GAAGC,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAf;IACAF,MAAM,CAACH,GAAP,GAAaA,GAAb;IACAI,QAAQ,CAACE,IAAT,CAAcC,WAAd,CAA0BJ,MAA1B;;IACAA,MAAM,CAACK,MAAP,GAAgB,YAAK;MACnBN,OAAO,CAAC,IAAD,CAAP;IACD,CAFD;;IAGAC,MAAM,CAACM,OAAP,GAAiB,YAAM;MACrBP,OAAO,CAAC,KAAD,CAAP;IACD,CAFD;EAGD,CAVM,CAAP;AAWD;;AAED,IAAMQ,eAAe,GAAG,SAAlBA,eAAkB,GAAM;EAAA,SACbC,cADa;IAAA;EAAA;;EAAA;IAAA,2EAC5B;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA,OACoBZ,UAAU,CAAC,8CAAD,CAD9B;;YAAA;cACQa,GADR;cAAA;cAAA,OAEuBlB,KAAK,CAACmB,GAAN,CAAU,sBAAV,CAFvB;;YAAA;cAEQC,MAFR;cAGEC,OAAO,CAACC,GAAR,CAAYF,MAAZ;;cAHF,IAIMF,GAJN;gBAAA;gBAAA;cAAA;;cAKIK,KAAK,CAAC,+CAAD,CAAL;cALJ;;YAAA;cAUMC,OAVN,GAUgB;gBACZ,iBAAUJ,MAAV,CADY;gBACQ;gBACpB,UAAU,OAFE;gBAEO;gBACnB,YAAY,KAHA;gBAIZ,QAAQ,SAJI;gBAKZ,eAAe,kBALH;gBAMZ,SAAS,+BANG;gBAOZ,YAAY,sBAPA;gBAOwB;gBACpC,WAAW,iBAAUK,QAAV,EAAmB;kBAC1BF,KAAK,CAACE,QAAQ,CAACC,mBAAV,CAAL;kBACAH,KAAK,CAACE,QAAQ,CAACE,iBAAV,CAAL;kBACAJ,KAAK,CAACE,QAAQ,CAACG,kBAAV,CAAL;gBACH,CAZW;gBAaZ,WAAW;kBACP,QAAQ,cADD;kBAEP,SAAS,0BAFF;kBAGP,WAAW;gBAHJ,CAbC;gBAmBZ,SAAS;kBACL,SAAS;gBADJ;cAnBG,CAVhB;cAiCMC,aAjCN,GAiCsB,IAAIC,MAAM,CAACC,QAAX,CAAoBP,OAApB,CAjCtB;cAkCAK,aAAa,CAACG,IAAd;;YAlCA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA,CAD4B;IAAA;EAAA;;EA+C5B,oBACE,uDACE,oBAAC,GAAD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE,oBAAC,GAAD;IAAK,EAAE,EAAI,CAAX;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE,oBAAC,MAAD;IAAQ,OAAO,EAAEf,cAAjB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,uBADF,CADF,CADF,CADF;AASD,CAxDD;;AA0DA,eAAeD,eAAf"},"metadata":{},"sourceType":"module"}